- move search code to thread